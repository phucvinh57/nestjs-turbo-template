enum OAuth2Provider {
  APPLE
  GOOGLE
}

model OAuthAccount {
  user   User   @relation(fields: [userId], references: [id])
  userId String @map("user_id") @db.VarChar(25)

  provider         OAuth2Provider
  externalId       String         @map("external_id") @db.VarChar(255)
  externalUserInfo Json           @default("{}") @map("external_user_info") @db.JsonB
  refreshToken     String?        @map("refresh_token") @db.Text

  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  @@id([userId, provider])
  @@unique([externalId, provider])
  @@map("oauth_accounts")
}